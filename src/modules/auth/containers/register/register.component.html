<div class="container">
  <div class="row justify-content-center">
    <div class="col-lg-7">
      <div class="card shadow-lg border-0 rounded-lg mt-5">
        <div class="card-header">
          <h3 class="text-center font-weight-light my-4">Create Account</h3>
        </div>

        <div class="card-body">
          <form [formGroup]="registerForm" (ngSubmit)="authorization()">

            <div class="form-group">
              <label class="small mb-1" for="login">Login</label>
              <input class="form-control py-4"
                [ngClass]="{'is-invalid': registerForm.get('login').errors && registerForm.get('login').touched}"
                formControlName="login" type="text" placeholder="Enter login" />

              <div class="invalid-feedback"
                *ngIf="registerForm.get('login').hasError('required') && registerForm.get('login').touched">
                Login is required
              </div>

              <div class="invalid-feedback"
                *ngIf="registerForm.get('login').hasError('minlength') && registerForm.get('login').touched">
                Login must be at least 3 char
              </div>

              <div class="invalid-feedback"
                *ngIf="registerForm.get('login').hasError('maxlength') && registerForm.get('login').touched">
                Login must be at least 16 char
              </div>

              <div class="invalid-feedback"
                *ngIf="registerForm.get('login').hasError('pattern') && registerForm.get('login').touched">
                Login invalid
              </div>
            </div>

            <div class="form-row">

              <div class="col-md-6">
                <div class="form-group">
                  <label class="small mb-1" for="password">Password</label>
                  <input class="form-control py-4" [ngClass]="{'is-invalid': registerForm.get('password').errors &&
                    registerForm.get('password').touched}" formControlName="password" type="password"
                    placeholder="Enter password" />

                  <div class="invalid-feedback"
                    *ngIf="registerForm.get('password').hasError('required') && registerForm.get('password').touched">
                    Password is required
                  </div>

                  <div class="invalid-feedback"
                    *ngIf="registerForm.get('password').hasError('minlength') && registerForm.get('password').touched">
                    Password must be at least 6 char
                  </div>

                  <div class="invalid-feedback"
                    *ngIf="registerForm.get('password').hasError('maxlength') && registerForm.get('password').touched">
                    Password must be at least 18 char
                  </div>

                  <div class="invalid-feedback"
                    *ngIf="registerForm.get('password').hasError('pattern') && registerForm.get('password').touched">
                    Password invalid
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group">
                  <label class="small mb-1" for="confirmPassword">Confirm Password</label>
                  <input class="form-control py-4" [ngClass]="{'is-invalid': registerForm.get('confirmPassword').errors
                    && registerForm.get('confirmPassword').touched 
                    || registerForm.get('password').touched 
                    && registerForm.hasError('mismatch')}" formControlName="confirmPassword" type="password"
                    placeholder="Confirm password" />
                  <div class="invalid-feedback" *ngIf="registerForm.get('confirmPassword').hasError('mismatch')
                      && registerForm.get('confirmPassword').touched">
                    Password must match
                  </div>
                </div>
              </div>
            </div>

            <div [hidden]="!error.state" class="alert alert-danger" role="alert">
              {{error.message}}
            </div>

            <div class="form-group mt-4 mb-0">
              <button [disabled]="!registerForm.valid" class="btn btn-primary btn-block" type="submit">Create
                Account</button>
            </div>
          </form>
        </div>

        <div class="card-footer text-center">
          <div class="small">
            <a routerLink="/auth/login">Have an account? Go to login</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>